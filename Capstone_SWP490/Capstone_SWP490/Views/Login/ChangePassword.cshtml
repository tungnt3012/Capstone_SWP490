@model Capstone_SWP490.Models.app_userViewModel.app_userViewModel
@{
    ViewBag.Title = "Change Password";
    Layout = "~/Views/Shared/_SigninLayout.cshtml";
}
<div id="wrapper-home">
    <div class="back">
        <div class="div-center-chang">
            <div class="content">

                @using (Html.BeginForm("ChangePassword", "Login"))
                {
                <div class="form-group">
                    <label for="exampleInputUserLogin" id="homeUserChangPassword">Change Password</label>
                </div>
                <div class="form-group">
                    <label for="exampleInputUserLogin" id="homeUserChangPasswordSub">Please choose a new password</label>
                </div>
                <div class="form-group">
                    @Html.PasswordFor(x => x.psw, new { @class = "form-control", id = "exampleInputLoginUser", placeholder = "Password", required = "required" })

                </div>
                <div class="form-group">
                    @Html.PasswordFor(x => x.repsw, new { @class = "form-control", id = "exampleInputLoginPassword", placeholder = "Re-enter Password", required = "required" })
                    <span id="message2" > </span>
                </div>
                <div class="form-group">
                    <p style="color:red">
                        @ViewData["ChangePasswordError"]
                    </p>
                    <p style="color:green">
                        @ViewData["ChangePasswordSuccess"]
                    </p>
                </div>
                @*<div class="form-group">
                        <div id="message">
                            <h3>Password must contain the following:</h3>
                            <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
                            <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
                            <p id="number" class="invalid">A <b>number</b></p>
                            <p id="length" class="invalid">Minimum <b>8 characters</b></p>
                            <p id="footerText" class="invalid">Filler text</p>
                        </div>
                    </div>*@
                <div class="form-group">
                    <button onclick="validateForm()" validateForm()" type="submit" class="btn btn-primary" id="btnHomeLogin">Change Password</button>
                </div>
                }
            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById('exampleInputLoginPassword').onkeyup=function(){
        var password = $("#exampleInputLoginUser").val();
        var confirm_password = $("#exampleInputLoginPassword").val();
        if (confirm_password.length < 6) {
            document.getElementById("message2").style.color = "Red";
            document.getElementById("message2").innerHTML = "*Password length must be more than 6 characters";
        }
        else if (password != confirm_password) {
            document.getElementById("message2").style.color = "Red";
            document.getElementById("message2").innerHTML = "*Passwords are not same";
        }
        else if (password == confirm_password)  {
            document.getElementById("message2").style.color = "Green";
            document.getElementById("message2").innerHTML = "*Same password";
        }
    }
    document.getElementById('exampleInputLoginUser').onkeyup = function () {
        var password = $("#exampleInputLoginUser").val();
        var confirm_password = $("#exampleInputLoginPassword").val();
        if (password.length < 6) {
            document.getElementById("message2").style.color = "Red";
            document.getElementById("message2").innerHTML = "*Password length must be more than 6 characters";
        }
        else if (password != confirm_password) {
            document.getElementById("message2").style.color = "Red";
            document.getElementById("message2").innerHTML = "*Passwords are not same";
        }
        else if (password == confirm_password) {
            document.getElementById("message2").style.color = "Green";
            document.getElementById("message2").innerHTML = "*Same password";
        }
    }
    </script>
