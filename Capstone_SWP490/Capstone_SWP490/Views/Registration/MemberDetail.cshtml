@{ ViewBag.Title = "Registration | Memeber Detail"; }

<style>
    #menu-registration {
        color: #ffffff !important;
        background: #30cf6b;
    }
</style>

<div class="container-fluid xyz">
    <div class="col-lg-12" id="content_area2_header">
        <div class="col-lg-12" id="content_area2_title">
            <label for="exampleInputTitle">Detail for Member: @(Model.member.first_name + " " + Model.member.middle_name + " " + Model.member.last_name)  </label>
        </div>
    </div>
    <div class="main">
        <div class="row">
            <span style="color:red">@ViewData["Update_ERROR"]</span>
            <div class="col-lg-12" id="registration-memberdetail">
                @using (Html.BeginForm("MemberDetail", "Registration", FormMethod.Post))
                {
                    <input type="hidden" name="teamId" value="@Model.team.team_id" />
                    <input type="hidden" name="id" value="@Model.member.member_id" />
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="firstName">First name</label>
                                <input type="text" class="form-control" id="firstName" name="firstName" value="@Model.member.first_name" aria-describedby="Frist name" placeholder="Frist name">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="middleName">Middle name</label>
                                <input type="text" class="form-control" id="middleName" name="middleName" value="@Model.member.middle_name" aria-describedby="Middle name" placeholder="Middle name">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="lastName">Last name</label>
                                <input type="text" class="form-control" id="lastName" name="lastName" value="@Model.member.last_name" aria-describedby="Date of birth" placeholder="Last name">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="dob">Date of birth</label>
                                <input type="date" class="form-control" id="dob" name="dob" value="@(Model.member.dob == new DateTime() ? "" : (Model.member.dob.Year +"-" + (Model.member.dob.Month < 10 ? "0" + Model.member.dob.Month : Model.member.dob.Month) + "-"+ (Model.member.dob.Day < 10 ? "0" + Model.member.dob.Day : Model.member.dob.Day)))" aria-describedby="Last name" placeholder="Date of birth">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" class="form-control" id="exampleInputEmail1" name="email" value="@Model.member.email" aria-describedby="emai" placeholder="Enter email">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="phone">Phone</label>
                                <input type="text" class="form-control" id="exampleInputPhone" name="phone" value="@Model.member.phone_number" aria-describedby="Phone" placeholder="Phone">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="icpc">ICPC</label>
                                <input type="number" class="form-control" id="exampleInputICPC" name="icpc" value="@(Model.member.icpc_id== null ? 0 : Model.member.icpc_id)" aria-describedby="ICPC" placeholder="ICPC">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="year">Year</label>
                                <input type="text" class="form-control" id="exampleInputYear" name="year" value="@Model.member.year" aria-describedby="Year of studying" placeholder="Year of studying">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputGender">Gender: </label>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="inlineRadio1" value="0" checked="@(Model.member.gender == 0 ? "checked" : "")">
                            <label class="form-check-label" for="inlineRadio1">Male</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="inlineRadio2" value="1" @(Model.member.gender == 1 ? "checked" : "")>
                            <label class="form-check-label" for="inlineRadio2">Female</label>
                        </div>
                    </div>
                    if (Model.member.member_role == 4)
                    {
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="exampleInputGender">MEMBER ROLE: </label>
                                    <select class="form-control" name="member_role">
                                        <option value="3" @(Model.member.member_role == 3 ? "selected" : "")>LEADER</option>
                                        <option value="4" @(Model.member.member_role == 4 ? "selected" : "")>MEMBER</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <input type="hidden" name="member_role" value="3" />
                    }
                    <div class="form-group">
                        <label for="exampleFormControlTextareaAward">Award</label>
                        <textarea class="form-control" id="exampleFormControlTextarea1" name="award" rows="4" placeholder="Declare previously won prizes(National, International)">
                        @Model.member.award
                        </textarea>
                    </div>
                    if (Model.member.contest_member != null && Model.member.contest_member.Count >= 2)
                    {
                        <div class="form-group">
                            <label for="exampleFormControlTextareaAward">Individual Contest:</label>
                            <select class="form-control" name="member_role" size="4">
                                '
                                @foreach (var item in Model.member.contest_member)
                                {
                                    <option>@(item.contest.contest_name + "(" + item.contest.code + ")")</option>
                                }
                            </select>
                        </div>
                    }
                    <div class="form-group">
                        <button type="submit" id="save" class="btn btn-primary">Save</button>
                        @if (Model.member.member_role == 4)
                        {
                            <button type="button" id="delete" class="btn btn-danger" style="color: #000000;">Delete</button>
                        }
                        <button type="button" id="cancel" class="btn btn-secondary" style="color:#000000;">Cancel</button>
                    </div>
                }
            </div>
        </div>
    </div>

</div>

<script type="text/javascript">
    document.getElementById("cancel").addEventListener('click', function () {
         window.location.href ="@Url.Action("TeamDetail", "Registration")?id=@Model.team.team_id";
    });
        document.getElementById("delete").addEventListener('click', function () {
         window.location.href ="@Url.Action("RemoveMember", "Registration")?team_id=@Model.team.team_id&member_id=@Model.member.member_id";
        });
    document.getElementById("save").addEventListener('click', function () {
        alert('Data stored succesfull at locally. please back to page Detail School then click Save Changes to save into our system')
    });
</script>
